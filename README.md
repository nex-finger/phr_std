# 自作関数によるc標準関数による実装
24入社の増田と申します，よかったら参考にしてね！  
初学者に分かりやすいように解説しているので，経験者の人は我流でやって全然いいと思います  
自分のc言語能力はatcoderレート700程度だと思います（サブ垢でc言語一筋でランクあげてます）

# プログラミングをする前に気をつけること
## 環境構築
### 名前の似ている3つのソフト
よくある勘違いとして，

- Visual Studio (VS)
- Visual Studio Installer
- Visual Studio Code  

のこれらはそれぞれ異なるアプリケーションです．  
まずwebサイトでVisual Studio Installerをダウンロードし，Visual Studio Installerを用いてVisual Studioをインストールします．  
今回の課題をするにあたってVSCは必須ではありません．

### 基本画面
メールで送られてきた https://jet-blog.com/clang_lesson002/ に従い作業してください．  
たぶん2022年版を推奨されますが，2019でも2022でも変わらないと思います．  
これらに注意して一通りインストールできたらエクスプローラとデバッグ出力を表示させておくと便利だと思います．  

<img src="/img/vsstatus.png" alt="vsstatus" width="480">

またコーディング自体はVScodeを使うともっと楽だと思いますがパソコンに慣れてないならVSで問題ないです．  
上の画像のような状況で |> ローカルwindowsデバッガー を押して下の画像のようにステータス0で終了していれば正常終了している状況です．  

<img src="/img/exitw0.png" alt="exitw0" width="480">

うまくいかなかったら画面共有とかで教えられるかもです．

## 課題の根本的な理解
### 記述するファイル
まず，私たちが記述するべきファイルは，

- CBasic/Std/Src/StdChr.c
- CBasic/Std/Src/StdStr.c
- CBasic/Std/Src/StdArt.c

の3つです．  
場合によってヘッダファイルに追加記述してもいいと思いますが，初心者の人はやめておいた方が良いと思います．  
これらのファイルはc言語で記述され， |> ローカルwindowsデバッガー を押すたびにコンパイルされます．
CBasic/Std/Src/StdChr.c の意味がわからない人は https://www.pc-master.jp/words/directory.html にてディレクトリについてざっくり理解しておきましょう．

### 記述したプログラムの評価とその確認
これらのテキストファイルの変更が，正しい記述であるかの判断はPHRの作成したテストを用いて行われます．  
テストはいくつかの頻出する例を入力として，標準関数と自作関数との戻り値を比較し，プログラムが正しいかを判定しているみたいです．  

<img src="/img/testflow.png" alt="exitw0" width="480">

PHRが用意した有限個の入力 $x_1, x_2, x_3, ..., x_n$ に対して，  
標準関数 $f$ の出力 $f(x_1), f(x_2), f(x_3), ..., f(x_n)$ と  
自作関数 $g$ の出力 $g(x_1), g(x_2), g(x_3), ..., g(x_n)$ に対して，  
$f$ と $g$ の距離 $\sum_{n=1}^n (f(n) - g(n))^2$ が  
0なら「OK」の判定，  
0でなければ「NG」の判定を得ます．  

判定結果は CBasic/log から確認でき，一つの関数に対して一つのログファイルが出力されます．

- CBasic/log/01-~~~.log はStdChr.cの結果
- CBasic/log/02-~~~.log はStdStr.cの結果
- CBasic/log/03-~~~.log はStdArt.cの結果

となっています．  
ただそれ以降のナンバリングはソースコードの順番と一致していないので逐次確認する必要があります．

例えば 01-06-001.log は入力が英小文字かどうかを判定するプログラムが正しいかを記録しているログファイルですが，
正しい記述をすると

``````
/*******************************************************************************/
UT Start Function:StdChr_Islower
/*******************************************************************************/
Test Function Execute:StdChr_Islower

文字が英小文字（'a'～'z'）か検査

入力 : 0x00
標準関数 : 0x00
自作関数 : 0x00
標準関数と自作関数の比較 : OK

入力 : 0x7f
標準関数 : 0x00
自作関数 : 0x00
標準関数と自作関数の比較 : OK

入力 : `
標準関数 : 0x00
自作関数 : 0x00
標準関数と自作関数の比較 : OK

入力 : a
標準関数 : 0x02
自作関数 : 0x02
標準関数と自作関数の比較 : OK

入力 : b
標準関数 : 0x02
自作関数 : 0x02
標準関数と自作関数の比較 : OK

入力 : y
標準関数 : 0x02
自作関数 : 0x02
標準関数と自作関数の比較 : OK

入力 : z
標準関数 : 0x02
自作関数 : 0x02
標準関数と自作関数の比較 : OK

入力 : {
標準関数 : 0x00
自作関数 : 0x00
標準関数と自作関数の比較 : OK
``````

となり，入力値，標準関数の出力値，自作関数の出力値，比較判定を確認できます．
なにも記述していないと，ほとんどがNGなので，この表示をOKにすることが課題の本質であることを理解しましょう．
